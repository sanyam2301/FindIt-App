{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const searchForm = document.querySelector('#searchForm');\r\nconst searchInput = document.querySelector('#searchInput');\r\n//form search Form\r\nsearchForm.addEventListener('submit', (e) => {\r\n    // getSearch term\r\n    const searchTerm = searchInput.value;\r\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n    const limit = document.querySelector('#limit').value;\r\n    // console.log(sortBy);\r\n\r\n    //check input\r\n    if (searchTerm === '') {\r\n        //show message\r\n        showMessage('Please add a search Term', 'alert-danger');\r\n    }\r\n    searchInput.value = '';\r\n\r\n    //search Reddit api\r\n    searchReddit(searchTerm, sortBy, limit).then(results => {\r\n        console.log(results);\r\n        let output = \"div class='card-table'>\";\r\n        //loop through the posts\r\n        results.forEach(post => {\r\n            const image = post.preview ? post.preview.images[0].source.url : 'https://variety.com/wp-content/uploads/2020/06/reddit-logo-1.png?w=640'\r\n            output += `\r\n            <div class=\"card center\" style=\"width:85rem;\">\r\n  <img src=\"${image}\" class=\"card-img-top\" alt=\"...\">\r\n  <div class=\"card-body\">\r\n    <h5 class=\"card-title\">${post.title}</h5>\r\n    <p class=\"card-text\">${truncateString(post.selftext,200)}</p>\r\n    <a href=\"${post.url}\" target='_blank' class=\"btn btn-primary\">Read More</a>\r\n    \r\n    <span class='badge bg-secondary'>Subreddit: ${post.subreddit}</span>\r\n    <span class='badge bg-dark'>Score${post.score}</span>\r\n  </div>\r\n</div>`\r\n        });\r\n\r\n        output += '</div>';\r\n        document.getElementById('results').innerHTML = output;\r\n    })\r\n\r\n    e.preventDefault();\r\n})\r\n\r\n\r\nfunction showMessage(message, className) {\r\n    //create div\r\n    const div = document.createElement('div');\r\n    //add classes\r\n    div.className = `alert ${className}`;\r\n    //add text\r\n    // div.textContent = `${message}` or\r\n    div.appendChild(document.createTextNode(message));\r\n    //get parent container and then put it there\r\n    const searchContainer = document.getElementById('search-container');\r\n    const search = document.getElementById('search');\r\n    searchContainer.insertBefore(div, search);\r\n\r\n    setTimeout(() => {\r\n        document.querySelector('.alert').remove();\r\n    }, 3000);\r\n\r\n}\r\n\r\n\r\nfunction searchReddit(searchTerm, sortBy, limit) {\r\n    return fetch(`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${limit}`)\r\n        .then(res => res.json())\r\n        .then(data => data.data.children.map(dataItem => dataItem.data))\r\n        .catch(err => console.log(err))\r\n\r\n}\r\n\r\n\r\nfunction truncateString(myString, limit) {\r\n    const shortened = myString.indexOf(' ', limit);\r\n    if (shortened == -1) return myString;\r\n    return myString.substring(0, shortened);\r\n}"],"names":[],"version":3,"file":"index.017db2f2.js.map","sourceRoot":"/__parcel_source_root/"}